<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<title>Object Prototypes | COMP1073 Client-Side JavaScript</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<link href="css/normalize.css" rel="stylesheet" />
	<link href="css/styles.css" rel="stylesheet" />
</head>

<body>
	<!-- STEP 1: Build out a HEADER and a SECTION element -->
	<header>

	</header>
	<section>

	</section>
	<script>
		/* STEP 2: Bind the HEADER and the SECTION elements above to variables */
		var header = document.querySelector('header');
		var section = document.querySelector('section');

		/* STEP 3: Store the URL of a JSON file in a variable */
		var requestURL = '/comp1073-10/js/i-scream.json';

		/* STEP 4: Create a new XHR object */
		var request = new XMLHttpRequest();

		/* STEP 5: Open a new request using the request() method */
		request.open('GET', requestURL);

		/* STEP 6: Set JavaScript to accept JSON from the server */
		request.responseType = 'json';

		/* STEP 7: Send the request with the send() method */
		request.send();

		/* STEP 8: Add an event handler that listens for the onload event of the JSON file/object */
		request.onload = function() {
			var iScreamInc = request.response;
			console.log(iScreamInc);
			populateHeader(iScreamInc);
			showTopFlavors(iScreamInc);
		}

		/* STEP 9: Build out the populateHeader() function */
		function populateHeader(jsonObj) {
		  var myH1 = document.createElement('h1');
		  myH1.textContent = jsonObj['companyName'];
		  header.appendChild(myH1);

		  var myPara = document.createElement('p');
		  myPara.textContent = 'Hometown: ' + jsonObj['homeTown'] + ' // Formed: ' + jsonObj['formed'];
		  header.appendChild(myPara);
		}

		// Next, open up XXXXX.html and we willâ€¦

		// This page inspired by and adapted from https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Objects/JSON

		// A special thanks to https://openclipart.org/detail/285225/ice-cream-cones for the awesome ice cream cone illustrations
		</script>
	</body>
</html>
